(function (N, ga) {
    if (!N.jQuery) throw Error("wangEditor: \u627e\u4e0d\u5230window.jQuery\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u5f15\u7528\u4e86jQuery\uff01"); if ("Microsoft Internet Explorer" === navigator.appName && /MSIE\s*(?=5.0|6.0|7.0|8.0)/i.test(navigator.appVersion)) jQuery.fn.extend({
        wangEditor: function (a) {
            var c = $('<textarea style="width:100%; height:' + (a.frameHeight || "300px") + '">' + (a.initWords || "\u8bf7\u8f93\u5165...") + "</textarea>"), h = $('<p style="color:#666666;background-color:#f1f1f1;">\uff08\u62b1\u6b49\uff0c\u6682\u4e0d\u652f\u6301IE8\u53ca\u4ee5\u4e0b\u6d4f\u89c8\u5668\uff0c\u73b0\u5728\u53ea\u80fd\u8f93\u5165\u7eaf\u6587\u672c...\uff09</p>'),
            l = a.codeTargetId && "string" === typeof a.codeTargetId ? $("#" + a.codeTargetId) : !1; a = function () { "input" === l[0].nodeName.toLowerCase() ? l.val(c.text()) : l.text(c.text()) }; l && (c.click(a), c.keyup(a)); this.append(h).append(c)
        }
    }); else {
        var a, E = "wangeditor_" + Math.random().toString().replace(".", "") + "_", F = "", z = "\u5b8b\u4f53;\u9ed1\u4f53;\u6977\u4f53;\u96b6\u4e66;\u5e7c\u5706;\u5fae\u8f6f\u96c5\u9ed1;Arial;Verdana;Georgia;Times New Roman;Trebuchet MS;Courier New;Impact;Comic Sans MS".split(";"), G = "", H = "", h = {
            red: "\u7ea2\u8272",
            blue: "\u84dd\u8272", green: "\u7eff\u8272", yellow: "\u9ec4\u8272", black: "\u9ed1\u8272", gray: "\u7070\u8272", silver: "\u94f6\u8272"
        }, I = "", q = { 1: "10px", 2: "13px", 3: "16px", 4: "19px", 5: "22px", 6: "25px", 7: "28px" }, c; for (a in q) Object.prototype.hasOwnProperty.call(q, a) && (c = q[a], I += '<li><a href="#" fontSize="' + a + '" style="font-size:' + c + ';">' + c + "</a></li>"); for (a in h) Object.prototype.hasOwnProperty.call(h, a) && (c = h[a], G += '<li><a href="#" style="color:' + a + ';">' + c + "</a></li>"); for (a in h) Object.prototype.hasOwnProperty.call(h,
        a) && (c = h[a], H += '<li><a href="#" style="background-color:' + a + '; color:white;">' + c + "</a></li>"); for (a = 0; a < z.length; a++) c = z[a], F += '<li><a href="#" style="font-family:' + c + '">' + c + "</a></li>"; jQuery.fn.extend({
            wangEditor: function (a) {
                function c() { if (!fa) { if (!a || !a.codeTargetId || "string" !== typeof a.codeTargetId) return; var d = $("#" + a.codeTargetId); if (0 === d.length) return } "input" === d[0].nodeName.toLowerCase() ? d.val(b.body.innerHTML) : d.text(b.body.innerHTML) } function h(d) {
                    var O = d.type; d = d.keyCode; var a = !1, a = [33,
                    34, 35, 36, 37, 38, 39, 40], a = "keyup" === O && -1 !== a.indexOf(d); if ("click" === O || a) b.queryCommandState("bold") ? r.addClass("btn-primary") : r.removeClass("btn-primary"), b.queryCommandState("italic") ? s.addClass("btn-primary") : s.removeClass("btn-primary"), b.queryCommandState("underline") ? t.addClass("btn-primary") : t.removeClass("btn-primary"), b.queryCommandState("JustifyLeft") ? u.addClass("btn-primary") : u.removeClass("btn-primary"), b.queryCommandState("JustifyCenter") ? v.addClass("btn-primary") : v.removeClass("btn-primary"),
                    b.queryCommandState("JustifyRight") ? w.addClass("btn-primary") : w.removeClass("btn-primary"), b.queryCommandState("InsertOrderedList") ? A.addClass("btn-primary") : A.removeClass("btn-primary"), b.queryCommandState("InsertUnorderedList") ? B.addClass("btn-primary") : B.removeClass("btn-primary"), J = b.getSelection().getRangeAt(0)
                } var l = $("<div></div>"), f = $('<div class="btn-toolbar"></div>'), g = $('<div class="btn-group"></div>'), e = function (d, b, a, e, c) {
                    var f = "btn"; if (!d || "string" !== typeof d) throw Error("wangEditor_btnTemp\uff1a\u5fc5\u987b\u4f20\u5165title\u53c2\u6570\uff0c\u800c\u4e14title\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff01");
                    if (!(b && "string" === typeof b || c)) throw Error("wangEditor_btnTemp\uff1a\u5fc5\u987b\u4f20\u5165iconClass\u53c2\u6570\uff0c\u800c\u4e14iconClass\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff01"); (a = !!a) && (f = "btn dropdown-toggle"); if (e && "string" !== typeof e) throw Error("wangEditor_btnTemp\uff1a\u4f20\u5165\u7684modalTarget\u53c2\u6570\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff01"); d = "" + ('<button title="' + d + '" class="' + f + '" '); a && (d += ' data-toggle="dropdown" '); e && (d += ' data-target="' + e +
                    '" data-backdrop="false"  data-toggle="modal" '); d += ">"; d = c && "string" === typeof c ? d + c : d + ('<i class="' + b + '">'); a && (d += '<span class="caret"></span>'); return d + "</button>"
                }, p = function (d, b) { if (!b || "string" !== typeof b) throw Error("wangEditor_dropdownMenuTemp\uff1acontent\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e14\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\uff01"); var a; a = '<ul class="dropdown-menu">'; d && "string" === typeof d && (a += '<li class="nav-header">' + d + "</li>"); return a = a + b + "</ul>" }, k = g.clone(),
                r = $(e("\u52a0\u7c97", "icon-bold")), s = $(e("\u659c\u4f53", "icon-italic")), t = $(e("\u4e0b\u5212\u7ebf", "icon-underline")); k.append(r).append(s).append(t); var m = g.clone(), C = $(e("\u5b57\u53f7", "icon-text-height", !0)), q = $(p("\u5b57\u53f7\uff1a", I)); m.append(C).append(q); var z = g.clone(), D = $(e("\u5b57\u4f53", "icon-font", !0)), C = $(p("\u5b57\u4f53\uff1a", F)); z.append(D).append(C); var P = g.clone(), x = $(e("\u524d\u666f\u8272", null, !0, null, '<b style="color:red;">A</b>')), D = $(p("\u524d\u666f\u8272\uff1a", G)); P.append(x).append(D);
                var Q = g.clone(), x = $(e("\u80cc\u666f\u8272", null, !0, null, '<b style="background-color:blue;color:white;">&nbsp;A&nbsp;</b>')), p = $(p("\u80cc\u666f\u8272\uff1a", H)); Q.append(x).append(p); var R = g.clone(), A = $(e("\u6709\u5e8f\u5217\u8868", "icon-list-ol")), B = $(e("\u65e0\u5e8f\u5217\u8868", "icon-list-ul")); R.append(B).append(A); var S = g.clone(), u = $(e("\u5de6\u5bf9\u9f50", "icon-align-left")), v = $(e("\u5c45\u4e2d", "icon-align-center")), w = $(e("\u53f3\u5bf9\u9f50", "icon-align-right")); S.append(u).append(v).append(w);
                var T = g.clone(), U = E + "LinkModal", y = $(e("\u94fe\u63a5", "icon-link", !1, "#" + U)), x = $(e("\u5220\u9664\u94fe\u63a5", "icon-remove")); T.append(y).append(x); var V = g.clone(), n = E + "imgModal", y = $(e("\u63d2\u5165\u56fe\u7247", "icon-picture", !1, "#" + n)); V.append(y); var W = g.clone(), y = $(e("\u64a4\u9500", "icon-undo")), X = $(e("\u6062\u590d", "icon-repeat")); W.append(y).append(X); var Y = g.clone(), g = E + "infoModal", e = $(e("\u5173\u4e8e", "icon-info-sign", !1, "#" + g)); Y.append(e); var Z = $("<div></div>"), K = function (d, b, a, e) {
                    if (!d ||
                    "string" !== typeof d) throw Error("wangEditor_modalTemp: id\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e14\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"); if (!b || "string" !== typeof b) throw Error("wangEditor_modalTemp: title\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e14\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"); var c; d = $('<div id="' + d + '" class="modal hide fade">'); c = $('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4>' +
                    b + "</h4></div>"); b = $('<div class="modal-body">'); var f = $('<div class="modal-footer">'); d.append(c); if (a && "number" === typeof a.length && 0 < a.length) { for (c = 0; c < a.length; c++) b.append(a[c]); d.append(b) } if (e && "number" === typeof e.length && 0 < e.length) { for (c = 0; c < e.length; c++) f.append(e[c]); d.append(f) } return d
                }, L, M, aa = $('<div style="width: 100%; height: ' + (a.frameHeight || "300px") + '; border: 1px solid #cccccc;"></div>'), ba = $('<iframe frameborder="0" width="100%" height="100%"></iframe>'), e = a.initWords || "\u8bf7\u8f93\u5165...";
                aa.append(ba); var b, fa, J; f.append(z); f.append(m); f.append(k); f.append(P); f.append(Q); f.append(R); f.append(S); f.append(T); f.append(V); f.append(W); a.showInfo && f.append(Y); l.append(f); l.find("button").tooltip(); var f = $("<p>\u94fe\u63a5\u5730\u5740\uff1a</p>"), ca = $('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), k = $("<p>\u94fe\u63a5\u76ee\u6807\uff1a</p>"), da = $("<select><option>_blank</option><option>_self</option></select>"), k = [f, ca, k, da], f = $('<a href="#" class="btn btn-primary">\u63d2\u5165\u94fe\u63a5</a>');
                L = K(U, "\u63d2\u5165\u94fe\u63a5", k, [f]); var k = $("<p>\u8f93\u5165\u56fe\u7247URL\u5730\u5740\uff1a</p>"), ea = $('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), m = [k, ea], k = $('<a href="#" class="btn btn-primary">\u63d2\u5165</a>'); M = K(n, "\u63d2\u5165\u56fe\u7247", m, [k]); n = [$('<p>\u5f53\u524d\u7248\u672c\uff1av1.0.0</p><p>\u66f4\u65b0\u65e5\u671f\uff1a2014/11/06</p><p>\u8054\u7cfb\u6211\u4eec\uff1awangfupeng1988#163.com\uff08#\u6362\u6210@\uff09</p><p>\u83b7\u53d6\u4ee3\u7801\uff1a<a href="https://github.com/wangfupeng1988/wangEditor/" target="_blank">https://github.com/wangfupeng1988/wangEditor/</a></p>')];
                n = K(g, "wangEditor", n); Z.append(L).append(M).append(n); l.append(Z); this.append(l); this.append(aa); m = ba[0].contentWindow; n = $(m); b = m.document; m = $(b); b.open(); b.write('<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title></head><body><p>' + e + "</p></body></html>"); b.close(); b.designMode = "on"; $(N).load(function () { "off" === b.designMode.toLowerCase() && (b.designMode = "on") }); n.blur(c); m.click(h); m.keyup(h); r.click(function () {
                    b.execCommand("bold"); b.queryCommandState("bold") ? r.addClass("btn-primary") :
                    r.removeClass("btn-primary")
                }); s.click(function () { b.execCommand("italic"); b.queryCommandState("italic") ? s.addClass("btn-primary") : s.removeClass("btn-primary") }); t.click(function () { b.execCommand("Underline"); b.queryCommandState("Underline") ? t.addClass("btn-primary") : t.removeClass("btn-primary") }); D.find("a").each(function () { var a = $(this), c = this.style.color; a.click(function (a) { b.execCommand("ForeColor", !1, c); a.preventDefault() }) }); p.find("a").each(function () {
                    var a = $(this), c = this.style.backgroundColor;
                    a.click(function (a) { b.execCommand("backColor", !1, c); a.preventDefault() })
                }); C.find("a").each(function () { var a = $(this), c = a.css("font-family"); a.click(function (a) { b.execCommand("FontName", !1, c); a.preventDefault() }) }); q.find("a").each(function () { var a = $(this), c = a.attr("fontSize"); a.click(function (a) { b.execCommand("FontSize", !1, c); a.preventDefault() }) }); f.click(function (a) {
                    var c = b.getSelection(), e = ca.val(); da.val(); c && 0 !== c.anchorOffset || (c.removeAllRanges(), c.addRange(J)); b.execCommand("createLink", !1,
                    e); a.preventDefault(); L.modal("hide")
                }); x.click(function () { b.execCommand("unlink") }); k.click(function (a) { var c = b.getSelection(), e = ea.val(); c && (c.removeAllRanges(), c.addRange(J)); b.execCommand("insertImage", !1, e); a.preventDefault(); M.modal("hide") }); u.click(function () { b.execCommand("JustifyLeft"); b.queryCommandState("JustifyLeft") ? u.addClass("btn-primary") : u.removeClass("btn-primary") }); v.click(function () {
                    b.execCommand("JustifyCenter"); b.queryCommandState("JustifyCenter") ? v.addClass("btn-primary") :
                    v.removeClass("btn-primary")
                }); w.click(function () { b.execCommand("JustifyRight"); b.queryCommandState("JustifyRight") ? w.addClass("btn-primary") : w.removeClass("btn-primary") }); A.click(function () { b.execCommand("InsertOrderedList") }); B.click(function () { b.execCommand("InsertUnorderedList") }); y.click(function () { b.execCommand("Undo") }); X.click(function () { b.execCommand("Redo") }); l.click(function () { c() })
            }
        })
    }
})(window);