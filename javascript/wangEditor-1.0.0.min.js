if (!window.jQuery) throw Error("wangEditor: \u627e\u4e0d\u5230window.jQuery\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u5f15\u7528\u4e86jQuery\uff01");
(function (a, da, r) {
    if ("Microsoft Internet Explorer" === navigator.appName && /MSIE\s*(?=5.0|6.0|7.0|8.0)/i.test(navigator.appVersion)) jQuery.fn.extend({
        wangEditor: function (b) {
            var f = a('<textarea style="width:100%; height:' + (b.frameHeight || "300px") + '">' + (b.initWords || "\u8bf7\u8f93\u5165...") + "</textarea>"), h = a('<p style="color:#666666;background-color:#f1f1f1;">\uff08\u62b1\u6b49\uff0c\u6682\u4e0d\u652f\u6301IE8\u53ca\u4ee5\u4e0b\u6d4f\u89c8\u5668\uff0c\u73b0\u5728\u53ea\u80fd\u8f93\u5165\u7eaf\u6587\u672c...\uff09</p>'), l =
            b.codeTargetId && "string" === typeof b.codeTargetId ? a("#" + b.codeTargetId) : !1; b = function () { "input" === l[0].nodeName.toLowerCase() ? l.val("<p>" + f.text() + "</p>") : l.text("<p>" + f.text() + "</p>") }; l && (f.click(b), f.keyup(b)); this.append(h).append(f)
        }
    }); else {
        var b, F = "wangeditor_" + Math.random().toString().replace(".", "") + "_", G = ""; r = "\u5b8b\u4f53;\u9ed1\u4f53;\u6977\u4f53;\u96b6\u4e66;\u5e7c\u5706;\u5fae\u8f6f\u96c5\u9ed1;Arial;Verdana;Georgia;Times New Roman;Trebuchet MS;Courier New;Impact;Comic Sans MS".split(";");
        var H = "", I = "", h = { red: "\u7ea2\u8272", blue: "\u84dd\u8272", green: "\u7eff\u8272", yellow: "\u9ec4\u8272", black: "\u9ed1\u8272", gray: "\u7070\u8272", silver: "\u94f6\u8272" }, J = "", s = { 1: "10px", 2: "13px", 3: "16px", 4: "19px", 5: "22px", 6: "25px", 7: "28px" }, f; for (b in s) Object.prototype.hasOwnProperty.call(s, b) && (f = s[b], J += '<li><a href="#" fontSize="' + b + '" style="font-size:' + f + ';">' + f + "</a></li>"); for (b in h) Object.prototype.hasOwnProperty.call(h, b) && (f = h[b], H += '<li><a href="#" style="color:' + b + ';">' + f + "</a></li>"); for (b in h) Object.prototype.hasOwnProperty.call(h,
        b) && (f = h[b], I += '<li><a href="#" style="background-color:' + b + '; color:white;">' + f + "</a></li>"); for (b = 0; b < r.length; b++) f = r[b], G += '<li><a href="#" style="font-family:' + f + '">' + f + "</a></li>"; jQuery.fn.extend({
            wangEditor: function (b) {
                function f() { if (!ea) { if (!b || !b.codeTargetId || "string" !== typeof b.codeTargetId) return; var n = a("#" + b.codeTargetId); if (0 === n.length) return } "input" === n[0].nodeName.toLowerCase() ? n.val(c.body.innerHTML) : n.text(c.body.innerHTML) } function h(n) {
                    var a = n.type; n = n.keyCode; var b = !1, b = [33,
                    34, 35, 36, 37, 38, 39, 40], b = "keyup" === a && -1 !== b.indexOf(n); if ("click" === a || b) c.queryCommandState("bold") ? t.addClass("btn-primary") : t.removeClass("btn-primary"), c.queryCommandState("italic") ? u.addClass("btn-primary") : u.removeClass("btn-primary"), c.queryCommandState("underline") ? v.addClass("btn-primary") : v.removeClass("btn-primary"), c.queryCommandState("JustifyLeft") ? w.addClass("btn-primary") : w.removeClass("btn-primary"), c.queryCommandState("JustifyCenter") ? x.addClass("btn-primary") : x.removeClass("btn-primary"),
                    c.queryCommandState("JustifyRight") ? y.addClass("btn-primary") : y.removeClass("btn-primary"), c.queryCommandState("InsertOrderedList") ? B.addClass("btn-primary") : B.removeClass("btn-primary"), c.queryCommandState("InsertUnorderedList") ? C.addClass("btn-primary") : C.removeClass("btn-primary"), K = c.getSelection().getRangeAt(0)
                } var l = a("<div></div>"), e = a('<div class="btn-toolbar"></div>'), g = a('<div class="btn-group"></div>'), d = function (a, c, b, d, f) {
                    var e = "btn"; if (!a || "string" !== typeof a) throw Error("wangEditor_btnTemp\uff1a\u5fc5\u987b\u4f20\u5165title\u53c2\u6570\uff0c\u800c\u4e14title\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff01");
                    if (!(c && "string" === typeof c || f)) throw Error("wangEditor_btnTemp\uff1a\u5fc5\u987b\u4f20\u5165iconClass\u53c2\u6570\uff0c\u800c\u4e14iconClass\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff01"); (b = !!b) && (e = "btn dropdown-toggle"); if (d && "string" !== typeof d) throw Error("wangEditor_btnTemp\uff1a\u4f20\u5165\u7684modalTarget\u53c2\u6570\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff01"); a = "" + ('<button title="' + a + '" class="' + e + '" '); b && (a += ' data-toggle="dropdown" '); d && (a += ' data-target="' + d +
                    '" data-backdrop="false"  data-toggle="modal" '); a += ">"; a = f && "string" === typeof f ? a + f : a + ('<i class="' + c + '">'); b && (a += '<span class="caret"></span>'); return a + "</button>"
                }, q = function (a, c) { if (!c || "string" !== typeof c) throw Error("wangEditor_dropdownMenuTemp\uff1acontent\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e14\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\uff01"); var b; b = '<ul class="dropdown-menu">'; a && "string" === typeof a && (b += '<li class="nav-header">' + a + "</li>"); return b = b + c + "</ul>" }, k = g.clone(),
                t = a(d("\u52a0\u7c97", "icon-bold")), u = a(d("\u659c\u4f53", "icon-italic")), v = a(d("\u4e0b\u5212\u7ebf", "icon-underline")); k.append(t).append(u).append(v); var m = g.clone(), D = a(d("\u5b57\u53f7", "icon-text-height", !0)), r = a(q("\u5b57\u53f7\uff1a", J)); m.append(D).append(r); var s = g.clone(), E = a(d("\u5b57\u4f53", "icon-font", !0)), D = a(q("\u5b57\u4f53\uff1a", G)); s.append(E).append(D); var O = g.clone(), z = a(d("\u524d\u666f\u8272", null, !0, null, '<b style="color:red;">A</b>')), E = a(q("\u524d\u666f\u8272\uff1a", H)); O.append(z).append(E);
                var P = g.clone(), z = a(d("\u80cc\u666f\u8272", null, !0, null, '<b style="background-color:blue;color:white;">&nbsp;A&nbsp;</b>')), q = a(q("\u80cc\u666f\u8272\uff1a", I)); P.append(z).append(q); var Q = g.clone(), B = a(d("\u6709\u5e8f\u5217\u8868", "icon-list-ol")), C = a(d("\u65e0\u5e8f\u5217\u8868", "icon-list-ul")); Q.append(C).append(B); var R = g.clone(), w = a(d("\u5de6\u5bf9\u9f50", "icon-align-left")), x = a(d("\u5c45\u4e2d", "icon-align-center")), y = a(d("\u53f3\u5bf9\u9f50", "icon-align-right")); R.append(w).append(x).append(y);
                var S = g.clone(), T = F + "LinkModal", A = a(d("\u94fe\u63a5", "icon-link", !1, "#" + T)), z = a(d("\u5220\u9664\u94fe\u63a5", "icon-remove")); S.append(A).append(z); var U = g.clone(), p = F + "imgModal", A = a(d("\u63d2\u5165\u56fe\u7247", "icon-picture", !1, "#" + p)); U.append(A); var V = g.clone(), A = a(d("\u64a4\u9500", "icon-undo")), W = a(d("\u6062\u590d", "icon-repeat")); V.append(A).append(W); var X = g.clone(), g = F + "infoModal", d = a(d("\u5173\u4e8e", "icon-info-sign", !1, "#" + g)); X.append(d); var Y = a("<div></div>"), L = function (c, b, d, f) {
                    if (!c ||
                    "string" !== typeof c) throw Error("wangEditor_modalTemp: id\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e14\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"); if (!b || "string" !== typeof b) throw Error("wangEditor_modalTemp: title\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u4e14\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"); var e; c = a('<div id="' + c + '" class="modal hide fade">'); e = a('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4>' +
                    b + "</h4></div>"); b = a('<div class="modal-body">'); var g = a('<div class="modal-footer">'); c.append(e); if (d && "number" === typeof d.length && 0 < d.length) { for (e = 0; e < d.length; e++) b.append(d[e]); c.append(b) } if (f && "number" === typeof f.length && 0 < f.length) { for (e = 0; e < f.length; e++) g.append(f[e]); c.append(g) } return c
                }, M, N, Z = a('<div style="width: 100%; height: ' + (b.frameHeight || "300px") + '; border: 1px solid #cccccc;"></div>'), $ = a('<iframe frameborder="0" width="100%" height="100%"></iframe>'), d = b.initWords || "\u8bf7\u8f93\u5165...";
                Z.append($); var c, ea, K; e.append(s); e.append(m); e.append(k); e.append(O); e.append(P); e.append(Q); e.append(R); e.append(S); e.append(U); e.append(V); b.showInfo && e.append(X); l.append(e); l.find("button").tooltip(); var e = a("<p>\u94fe\u63a5\u5730\u5740\uff1a</p>"), aa = a('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), k = a("<p>\u94fe\u63a5\u76ee\u6807\uff1a</p>"), ba = a("<select><option>_blank</option><option>_self</option></select>"), k = [e, aa, k, ba], e = a('<a href="#" class="btn btn-primary">\u63d2\u5165\u94fe\u63a5</a>');
                M = L(T, "\u63d2\u5165\u94fe\u63a5", k, [e]); var k = a("<p>\u8f93\u5165\u56fe\u7247URL\u5730\u5740\uff1a</p>"), ca = a('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), m = [k, ca], k = a('<a href="#" class="btn btn-primary">\u63d2\u5165</a>'); N = L(p, "\u63d2\u5165\u56fe\u7247", m, [k]); p = [a('<p>\u5f53\u524d\u7248\u672c\uff1av1.0.0</p><p>\u66f4\u65b0\u65e5\u671f\uff1a2014/11/06</p><p>\u8054\u7cfb\u6211\u4eec\uff1awangfupeng1988#163.com\uff08#\u6362\u6210@\uff09</p><p>\u83b7\u53d6\u4ee3\u7801\uff1a<a href="https://github.com/wangfupeng1988/wangEditor/" target="_blank">https://github.com/wangfupeng1988/wangEditor/</a></p>')];
                p = L(g, "wangEditor", p); Y.append(M).append(N).append(p); l.append(Y); this.append(l); this.append(Z); m = $[0].contentWindow; p = a(m); c = m.document; m = a(c); c.open(); c.write('<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title></head><body><p>' + d + "</p></body></html>"); c.close(); c.designMode = "on"; a(da).load(function () { "off" === c.designMode.toLowerCase() && (c.designMode = "on") }); p.blur(f); m.click(h); m.keyup(h); t.click(function () {
                    c.execCommand("bold"); c.queryCommandState("bold") ? t.addClass("btn-primary") :
                    t.removeClass("btn-primary")
                }); u.click(function () { c.execCommand("italic"); c.queryCommandState("italic") ? u.addClass("btn-primary") : u.removeClass("btn-primary") }); v.click(function () { c.execCommand("Underline"); c.queryCommandState("Underline") ? v.addClass("btn-primary") : v.removeClass("btn-primary") }); E.find("a").each(function () { var b = a(this), d = this.style.color; b.click(function (a) { c.execCommand("ForeColor", !1, d); a.preventDefault() }) }); q.find("a").each(function () {
                    var b = a(this), d = this.style.backgroundColor;
                    b.click(function (a) { c.execCommand("backColor", !1, d); a.preventDefault() })
                }); D.find("a").each(function () { var b = a(this), d = b.css("font-family"); b.click(function (a) { c.execCommand("FontName", !1, d); a.preventDefault() }) }); r.find("a").each(function () { var b = a(this), d = b.attr("fontSize"); b.click(function (a) { c.execCommand("FontSize", !1, d); a.preventDefault() }) }); e.click(function (a) {
                    var b = c.getSelection(), d = aa.val(); ba.val(); b && 0 !== b.anchorOffset || (b.removeAllRanges(), b.addRange(K)); c.execCommand("createLink", !1,
                    d); a.preventDefault(); M.modal("hide")
                }); z.click(function () { c.execCommand("unlink") }); k.click(function (a) { var b = c.getSelection(), d = ca.val(); b && (b.removeAllRanges(), b.addRange(K)); c.execCommand("insertImage", !1, d); a.preventDefault(); N.modal("hide") }); w.click(function () { c.execCommand("JustifyLeft"); c.queryCommandState("JustifyLeft") ? w.addClass("btn-primary") : w.removeClass("btn-primary") }); x.click(function () {
                    c.execCommand("JustifyCenter"); c.queryCommandState("JustifyCenter") ? x.addClass("btn-primary") :
                    x.removeClass("btn-primary")
                }); y.click(function () { c.execCommand("JustifyRight"); c.queryCommandState("JustifyRight") ? y.addClass("btn-primary") : y.removeClass("btn-primary") }); B.click(function () { c.execCommand("InsertOrderedList") }); C.click(function () { c.execCommand("InsertUnorderedList") }); A.click(function () { c.execCommand("Undo") }); W.click(function () { c.execCommand("Redo") }); l.click(function () { f() })
            }
        })
    }
})(window.jQuery, window);