if (!window.jQuery) throw Error("wangEditor: \u627e\u4e0d\u5230window.jQuery\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u5f15\u7528\u4e86jQuery\uff01");
(function (a, aa, fa) {
    var N = { codeTargetId: !1, frameHeight: "300px", initStr: "\u6b22\u8fce\u4f7f\u7528<b>wangEitor</b>\uff0c\u8bf7\u8f93\u5165..." }; if ("Microsoft Internet Explorer" === navigator.appName && /MSIE\s*(?=5.0|6.0|7.0|8.0)/i.test(navigator.appVersion)) jQuery.fn.extend({
        wangEditor: function (h) {
            h = a.extend(N, h); var d = h.initStr, c = h.frameHeight, k = h.codeTargetId && "string" === typeof h.codeTargetId ? a("#" + h.codeTargetId) : !1, f = a('<textarea style="width:100%; height:' + c + '"></textarea>'); h = a('<p style="color:#666666;background-color:#f1f1f1;"></p>');
            var c = /(<.*?>)|(&.*?;)/gm, u = "\u62b1\u6b49\uff0cIE8\u53ca\u4ee5\u4e0b\u6d4f\u89c8\u5668\u53ea\u80fd\u8f93\u5165\u7eaf\u6587\u672c...", l = function () { var a = f.text(), a = a.replace("&", "&amp;").replace("<", "&lt;").replace(">", "&gt;").replace("\n", "<br />").replace(/\s{1}/gm, "&nbsp;"); "input" === k[0].nodeName.toLowerCase() ? k.val("<p>" + a + "</p>") : k.text("<p>" + a + "</p>") }; c.test(d) && (d = d.replace(c, ""), u = '\u62b1\u6b49\uff0c\u5728IE8\u53ca\u4ee5\u4e0b\u6d4f\u89c8\u5668\u4e2d\u7f16\u8f91<b style="color:red;">\u53ef\u80fd\u4f1a\u4e22\u5931\u6837\u5f0f\u3001\u94fe\u63a5\u6216\u56fe\u7247\uff0c\u8bf7\u614e\u91cd\u4fdd\u5b58\uff01</b>');
            f.text(d); h.html(u); k && (f.click(l), f.keyup(l)); this.append(h).append(f)
        }
    }); else {
        var E = "wangeditor_" + Math.random().toString().replace(".", "") + "_", ba = function () { var a = "\u5b8b\u4f53;\u9ed1\u4f53;\u6977\u4f53;\u96b6\u4e66;\u5e7c\u5706;\u5fae\u8f6f\u96c5\u9ed1;Arial;Verdana;Georgia;Times New Roman;Trebuchet MS;Courier New;Impact;Comic Sans MS".split(";"), d = a.length, c = "", k, f; for (k = 0; k < d; k++) f = a[k], c += '<li><a href="#" style="font-family:${0}">${1}</a></li>'.replace("${0}", f).replace("${1}", f); return c }(),
        q = { red: "\u7ea2\u8272", blue: "\u84dd\u8272", green: "\u7eff\u8272", yellow: "\u9ec4\u8272", black: "\u9ed1\u8272", gray: "\u7070\u8272", silver: "\u94f6\u8272" }, ca = function () { var a = "", d, c; for (d in q) Object.prototype.hasOwnProperty.call(q, d) && (c = q[d], a += '<li><a href="#" style="color:${0};">${1}</a></li>'.replace("${0}", d).replace("${1}", c)); return a }(), da = function () {
            var a = "", d, c; for (d in q) Object.prototype.hasOwnProperty.call(q, d) && (c = q[d], a += '<li><a href="#" style="background-color:${0}; color:white;">${1}</a></li>'.replace("${0}",
            d).replace("${1}", c)); return a
        }(), ea = function () { var a = { 1: "10px", 2: "13px", 3: "16px", 4: "19px", 5: "22px", 6: "25px", 7: "28px" }, d = "", c, k; for (c in a) Object.prototype.hasOwnProperty.call(a, c) && (k = a[c], d += '<li><a href="#" fontSize="${0}" style="font-size:${1};">${2}</a></li>'.replace("${0}", c).replace("${1}", k).replace("${2}", k)); return d }(); jQuery.fn.extend({
            wangEditor: function (h) {
                function d() { A && ("input" === A[0].nodeName.toLowerCase() ? A.val(e.body.innerHTML) : A.text(e.body.innerHTML)) } function c(a) {
                    "string" ===
                    typeof a && (a = a.toLowerCase()); if ("bold" === a || void 0 === a) e.queryCommandState("bold") ? q.addClass("btn-primary") : q.removeClass("btn-primary"); if ("italic" === a || void 0 === a) e.queryCommandState("italic") ? F.addClass("btn-primary") : F.removeClass("btn-primary"); if ("underline" === a || void 0 === a) e.queryCommandState("underline") ? G.addClass("btn-primary") : G.removeClass("btn-primary"); if ("JustifyLeft" === a || void 0 === a) e.queryCommandState("JustifyLeft") ? H.addClass("btn-primary") : H.removeClass("btn-primary"); if ("JustifyCenter" ===
                    a || void 0 === a) e.queryCommandState("JustifyCenter") ? I.addClass("btn-primary") : I.removeClass("btn-primary"); if ("JustifyRight" === a || void 0 === a) e.queryCommandState("JustifyRight") ? J.addClass("btn-primary") : J.removeClass("btn-primary"); if ("InsertOrderedList" === a || void 0 === a) e.queryCommandState("InsertOrderedList") ? K.addClass("btn-primary") : K.removeClass("btn-primary"); if ("InsertUnorderedList" === a || void 0 === a) e.queryCommandState("InsertUnorderedList") ? L.addClass("btn-primary") : L.removeClass("btn-primary")
                }
                function k(a) { var g = a.type; a = a.keyCode; var m = !1, m = [33, 34, 35, 36, 37, 38, 39, 40], m = "keyup" === g && -1 !== m.indexOf(a); if ("click" === g || m) c(), v = e.getSelection().getRangeAt(0) } h = a.extend(N, h); var f = function (a) { if (!a || "string" !== typeof a || 0 === a.length) throw Error("\u9519\u8bef\uff1a\u3010" + a + "\u3011\u4e0d\u662f\u5b57\u7b26\u4e32\uff01"); }, u = a("<div></div>"), l = a('<div class="btn-group"></div>'), b = function (a, g, m, b, B, d) {
                    f(a); B ? f(B) : f(g); b && f(b); d && f(d); var e = "", c = "", h = "btn"; m && (h = "btn dropdown-toggle"); a = '<button type="button" title="$title$" class="$class$" $data-Prop$>$content$</button>'.replace("$title$",
                    a).replace("$class$", h); m && (e += ' data-toggle="dropdown" '); b && (e += ' data-target="' + b + '" data-backdrop="false"  data-toggle="modal" '); d && (e += ' singleCommandName="' + d + '" '); a = a.replace("$data-Prop$", e); c = B ? c + B : c + ('<i class="' + g + '"></i>'); m && (c += '<span class="caret"></span>'); return a = a.replace("$content$", c)
                }, w = function (a, g) { f(g); a && f(a); var m = '<ul class="dropdown-menu">${0} ${1}</ul>'; a && (m = m.replace("${0}", '<li class="nav-header">' + a + "</li>")); return m = m.replace("${1}", g) }, x = l.clone(), q = a(b("\u52a0\u7c97",
                "icon-bold", !1, !1, !1, "bold")), F = a(b("\u659c\u4f53", "icon-italic", !1, !1, !1, "italic")), G = a(b("\u4e0b\u5212\u7ebf", "icon-underline", !1, !1, !1, "underline")); x.append(q).append(F).append(G); var r = l.clone(), C = a(b("\u5b57\u53f7", "icon-text-height", !0)), O = a(w("\u5b57\u53f7\uff1a", ea)); r.append(C).append(O); var s = l.clone(), D = a(b("\u5b57\u4f53", "icon-font", !0)), C = a(w("\u5b57\u4f53\uff1a", ba)); s.append(D).append(C); var z = l.clone(), p = a(b("\u524d\u666f\u8272", null, !0, null, '<b style="color:red;">A</b>')), D = a(w("\u524d\u666f\u8272\uff1a",
                ca)); z.append(p).append(D); var P = l.clone(), p = a(b("\u80cc\u666f\u8272", null, !0, null, '<b style="background-color:blue;color:white;">&nbsp;A&nbsp;</b>')), w = a(w("\u80cc\u666f\u8272\uff1a", da)); P.append(p).append(w); var Q = l.clone(), K = a(b("\u6709\u5e8f\u5217\u8868", "icon-list-ol", !1, !1, !1, "InsertOrderedList")), L = a(b("\u65e0\u5e8f\u5217\u8868", "icon-list-ul", !1, !1, !1, "InsertUnorderedList")); Q.append(L).append(K); var R = l.clone(), H = a(b("\u5de6\u5bf9\u9f50", "icon-align-left", !1, !1, !1, "JustifyLeft")), I = a(b("\u5c45\u4e2d",
                "icon-align-center", !1, !1, !1, "JustifyCenter")), J = a(b("\u53f3\u5bf9\u9f50", "icon-align-right", !1, !1, !1, "JustifyRight")); R.append(H).append(I).append(J); var S = l.clone(), n = E + "LinkModal", p = a(b("\u94fe\u63a5", "icon-link", !1, "#" + n)), y = a(b("\u5220\u9664\u94fe\u63a5", "icon-remove", !1, !1, !1, "unlink")); S.append(p).append(y); var T = l.clone(), y = E + "imgModal", p = a(b("\u63d2\u5165\u56fe\u7247", "icon-picture", !1, "#" + y)); T.append(p); var U = l.clone(), p = E + "codeModal", M = a(b("\u63d2\u5165\u4ee3\u7801", "icon-edit", !1, "#" +
                p)); U.append(M); l = l.clone(); M = a(b("\u64a4\u9500", "icon-undo", !1, !1, !1, "Undo")); b = a(b("\u6062\u590d", "icon-repeat", !1, !1, !1, "Redo")); l.append(M).append(b); b = a('<div class="btn-toolbar"></div>'); b.append(s).append(r).append(x).append(z).append(P).append(Q).append(R).append(S).append(T).append(U).append(l); u.append(b).find("button").tooltip({ container: "body" }); var s = a("<div></div>"), z = function (e, g, m, c) {
                    f(e); f(g); var b; e = a('<div id="' + e + '" class="modal hide fade">'); b = a('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4>' +
                    g + "</h4></div>"); g = a('<div class="modal-body">'); var d = a('<div class="modal-footer">'); e.append(b); if (m && "number" === typeof m.length && 0 < m.length) { for (b = 0; b < m.length; b++) g.append(m[b]); e.append(g) } if (c && "number" === typeof c.length && 0 < c.length) { for (b = 0; b < c.length; b++) d.append(c[b]); e.append(d) } return e
                }, x = a("<p>\u94fe\u63a5\u5730\u5740\uff1a</p>"), V = a('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), r = [x, V], x = a('<a href="#" class="btn btn-primary">\u63d2\u5165\u94fe\u63a5</a>'),
                W = z(n, "\u63d2\u5165\u94fe\u63a5", r, [x]), r = a("<p>\u8f93\u5165\u56fe\u7247URL\u5730\u5740\uff1a</p>"), X = a('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), n = [r, X], r = a('<a href="#" class="btn btn-primary">\u63d2\u5165</a>'), Y = z(y, "\u63d2\u5165\u56fe\u7247", n, [r]), Z = a('<textarea rows="10" cols="50" style="width:95%"></textarea>'), n = [Z], y = a('<a href="#" class="btn btn-primary">\u63d2\u5165</a>'), $ = z(p, "\u63d2\u5165\u4ee3\u7801", n, [y]); s.append(W).append(Y).append($); u.append(s);
                n = a('<div style="width: 100%; height: ' + h.frameHeight + '; border: 1px solid #cccccc;"></div>'); s = a('<iframe frameborder="0" width="100%" height="100%"></iframe>'); p = h.initStr; n.append(s); var e, A = h.codeTargetId && "string" === typeof h.codeTargetId ? a("#" + h.codeTargetId) : !1, t, v; this.append(u); this.append(n); n = s[0].contentWindow; h = a(n); e = n.document; n = a(e); e.open(); e.write('<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title></head><body>' + p + "</body></html>"); e.close(); e.designMode =
                "on"; a(aa).load(function () { "off" === e.designMode.toLowerCase() && (e.designMode = "on") }); t = function (a, g, m) { e.execCommand(a, g, m) }; h.blur(d); n.click(k); n.keyup(k); b.find("button").each(function () { var b = a(this), g = b.attr("singleCommandName"); g && b.click(function () { t(g); c(g) }) }); D.find("a").each(function () { var b = a(this), g = this.style.color; b.click(function (a) { t("ForeColor", !1, g); a.preventDefault() }) }); w.find("a").each(function () {
                    var b = a(this), g = this.style.backgroundColor; b.click(function (a) {
                        t("backColor", !1,
                        g); a.preventDefault()
                    })
                }); C.find("a").each(function () { var b = a(this), g = b.css("font-family"); b.click(function (a) { t("FontName", !1, g); a.preventDefault() }) }); O.find("a").each(function () { var b = a(this), g = b.attr("fontSize"); b.click(function (a) { t("FontSize", !1, g); a.preventDefault() }) }); x.click(function (a) { var b = e.getSelection(), c = V.val(); $linkModalBody_sltTarget.val(); b && v && (b.removeAllRanges(), b.addRange(v)); t("createLink", !1, c); a.preventDefault(); W.modal("hide") }); r.click(function (a) {
                    var b = e.getSelection(),
                    c = X.val(); b && v && (b.removeAllRanges(), b.addRange(v)); t("insertImage", !1, c); a.preventDefault(); Y.modal("hide")
                }); y.click(function (b) {
                    var c = e.getSelection(), d = Z.val(), h; h = '<table style="line-height:${0}; font-size:${1};font-family:${2};" border="0" cellpadding="0" cellspacing="0" width="100%"> ${3} </table>'.replace("${0}", "20px").replace("${1}", "14px").replace("${2}", "Consolas,Courier New,\u5fae\u8f6f\u96c5\u9ed1,\u5b8b\u4f53"); var f = "", l = f = "", k = "", n, d = d.replace(/&/gm, "&amp;").replace(/</gm, "&lt;").replace(/>/gm,
                    "&gt;").replace(/\n/gm, "<br/>").replace(/\s{1}/gm, "&nbsp;"); n = d.split("<br/>"); for (d = 0; d < n.length; d++) k = n[d], l = '<td style="text-align:right; border-right:3px solid #6dea8e; padding-right:5px; color:#999999; width:40px;"> ${0} </td>'.replace("${0}", d + 1), k = '<td style="padding-left:10px; text-align:left;">${0}</td>'.replace("${0}", k), f = 0 === d % 2 ? f + '<tr valign="top" style="background-color:#f1f1f1;"> ${0} </tr>'.replace("${0}", l + k) : f + '<tr valign="top"> ${0} </tr>'.replace("${0}", l + k); f = h.replace("${3}",
                    f); c && v && (c.removeAllRanges(), c.addRange(v), c = a(c.focusNode.parentNode), 0 === c.next().length && (f += "<p><br/><br/></p>"), c.after(a(f))); b.preventDefault(); $.modal("hide")
                }); u.click(function () { d() })
            }
        })
    }
})(window.jQuery, window);