if (!window.jQuery) throw Error("wangEditor: \u627e\u4e0d\u5230window.jQuery\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u5f15\u7528\u4e86jQuery\uff01");
(function (a, X, ba) {
    var L = { codeTargetId: !1, frameHeight: "300px", initStr: "\u6b22\u8fce\u4f7f\u7528<b>wangEitor</b>\uff0c\u8bf7\u8f93\u5165..." }; if ("Microsoft Internet Explorer" === navigator.appName && /MSIE\s*(?=5.0|6.0|7.0|8.0)/i.test(navigator.appVersion)) jQuery.fn.extend({
        wangEditor: function (e) {
            e = a.extend(L, e); var d = e.initStr, f = e.frameHeight, k = e.codeTargetId && "string" === typeof e.codeTargetId ? a("#" + e.codeTargetId) : !1, g = a('<textarea style="width:100%; height:' + f + '"></textarea>'); e = a('<p style="color:#666666;background-color:#f1f1f1;"></p>');
            var f = /(<.*?>)|(&.*?;)/gm, u = "\u62b1\u6b49\uff0cIE8\u53ca\u4ee5\u4e0b\u6d4f\u89c8\u5668\u53ea\u80fd\u8f93\u5165\u7eaf\u6587\u672c...", l = function () { var a = g.text(), a = a.replace("&", "&amp;").replace("<", "&lt;").replace(">", "&gt;").replace("\n", "<br />").replace(/\s{1}/gm, "&nbsp;"); "input" === k[0].nodeName.toLowerCase() ? k.val("<p>" + a + "</p>") : k.text("<p>" + a + "</p>") }; f.test(d) && (d = d.replace(f, ""), u = '\u62b1\u6b49\uff0c\u5728IE8\u53ca\u4ee5\u4e0b\u6d4f\u89c8\u5668\u4e2d\u7f16\u8f91<b style="color:red;">\u53ef\u80fd\u4f1a\u4e22\u5931\u6837\u5f0f\u3001\u94fe\u63a5\u6216\u56fe\u7247\uff0c\u8bf7\u614e\u91cd\u4fdd\u5b58\uff01</b>');
            g.text(d); e.html(u); k && (g.click(l), g.keyup(l)); this.append(e).append(g)
        }
    }); else {
        var M = "wangeditor_" + Math.random().toString().replace(".", "") + "_", Y = function () { var a = "\u5b8b\u4f53;\u9ed1\u4f53;\u6977\u4f53;\u96b6\u4e66;\u5e7c\u5706;\u5fae\u8f6f\u96c5\u9ed1;Arial;Verdana;Georgia;Times New Roman;Trebuchet MS;Courier New;Impact;Comic Sans MS".split(";"), d = a.length, f = "", k, g; for (k = 0; k < d; k++) g = a[k], f += '<li><a href="#" style="font-family:${0}">${1}</a></li>'.replace("${0}", g).replace("${1}", g); return f }(),
        p = { red: "\u7ea2\u8272", blue: "\u84dd\u8272", green: "\u7eff\u8272", yellow: "\u9ec4\u8272", black: "\u9ed1\u8272", gray: "\u7070\u8272", silver: "\u94f6\u8272" }, Z = function () { var a = "", d, f; for (d in p) Object.prototype.hasOwnProperty.call(p, d) && (f = p[d], a += '<li><a href="#" style="color:${0};">${1}</a></li>'.replace("${0}", d).replace("${1}", f)); return a }(), $ = function () {
            var a = "", d, f; for (d in p) Object.prototype.hasOwnProperty.call(p, d) && (f = p[d], a += '<li><a href="#" style="background-color:${0}; color:white;">${1}</a></li>'.replace("${0}",
            d).replace("${1}", f)); return a
        }(), aa = function () { var a = { 1: "10px", 2: "13px", 3: "16px", 4: "19px", 5: "22px", 6: "25px", 7: "28px" }, d = "", f, k; for (f in a) Object.prototype.hasOwnProperty.call(a, f) && (k = a[f], d += '<li><a href="#" fontSize="${0}" style="font-size:${1};">${2}</a></li>'.replace("${0}", f).replace("${1}", k).replace("${2}", k)); return d }(); jQuery.fn.extend({
            wangEditor: function (e) {
                function d() { y && ("input" === y[0].nodeName.toLowerCase() ? y.val(c.body.innerHTML) : y.text(c.body.innerHTML)) } function f(a) {
                    "string" ===
                    typeof a && (a = a.toLowerCase()); if ("bold" === a || void 0 === a) c.queryCommandState("bold") ? p.addClass("btn-primary") : p.removeClass("btn-primary"); if ("italic" === a || void 0 === a) c.queryCommandState("italic") ? C.addClass("btn-primary") : C.removeClass("btn-primary"); if ("underline" === a || void 0 === a) c.queryCommandState("underline") ? D.addClass("btn-primary") : D.removeClass("btn-primary"); if ("JustifyLeft" === a || void 0 === a) c.queryCommandState("JustifyLeft") ? E.addClass("btn-primary") : E.removeClass("btn-primary"); if ("JustifyCenter" ===
                    a || void 0 === a) c.queryCommandState("JustifyCenter") ? F.addClass("btn-primary") : F.removeClass("btn-primary"); if ("JustifyRight" === a || void 0 === a) c.queryCommandState("JustifyRight") ? G.addClass("btn-primary") : G.removeClass("btn-primary"); if ("InsertOrderedList" === a || void 0 === a) c.queryCommandState("InsertOrderedList") ? H.addClass("btn-primary") : H.removeClass("btn-primary"); if ("InsertUnorderedList" === a || void 0 === a) c.queryCommandState("InsertUnorderedList") ? I.addClass("btn-primary") : I.removeClass("btn-primary")
                }
                function k(a) { var m = a.type; a = a.keyCode; var h = !1, h = [33, 34, 35, 36, 37, 38, 39, 40], h = "keyup" === m && -1 !== h.indexOf(a); if ("click" === m || h) f(), J = c.getSelection().getRangeAt(0) } e = a.extend(L, e); var g = function (a) { if (!a || "string" !== typeof a || 0 === a.length) throw Error("\u9519\u8bef\uff1a\u3010" + a + "\u3011\u4e0d\u662f\u5b57\u7b26\u4e32\uff01"); }, u = a("<div></div>"), l = a('<div class="btn-group"></div>'), b = function (a, m, h, d, b, f) {
                    g(a); b ? g(b) : g(m); d && g(d); f && g(f); var c = "", e = ""; a = '<button type="button" title="$title$" class="$class$" $data-Prop$>$content$</button>'.replace("$title$",
                    a).replace("$class$", "btn"); h && (c += ' data-toggle="dropdown" '); d && (c += ' data-target="' + d + '" data-backdrop="false"  data-toggle="modal" '); f && (c += ' singleCommandName="' + f + '" '); a = a.replace("$data-Prop$", c); e = b ? e + b : e + ('<i class="' + m + '"></i>'); h && (e += '<span class="caret"></span>'); a = a.replace("$content$", e); console.log(a); return a
                }, v = function (a, m) { g(m); a && g(a); var h = '<ul class="dropdown-menu">${0} ${1}</ul>'; a && (h = h.replace("${0}", '<li class="nav-header">' + a + "</li>")); return h = h.replace("${1}", m) }, w =
                l.clone(), p = a(b("\u52a0\u7c97", "icon-bold", !1, !1, !1, "bold")), C = a(b("\u659c\u4f53", "icon-italic", !1, !1, !1, "italic")), D = a(b("\u4e0b\u5212\u7ebf", "icon-underline", !1, !1, !1, "underline")); w.append(p).append(C).append(D); var n = l.clone(), z = a(b("\u5b57\u53f7", "icon-text-height", !0)), N = a(v("\u5b57\u53f7\uff1a", aa)); n.append(z).append(N); var r = l.clone(), A = a(b("\u5b57\u4f53", "icon-font", !0)), z = a(v("\u5b57\u4f53\uff1a", Y)); r.append(A).append(z); var s = l.clone(), q = a(b("\u524d\u666f\u8272", null, !0, null, '<b style="color:red;">A</b>')),
                A = a(v("\u524d\u666f\u8272\uff1a", Z)); s.append(q).append(A); var O = l.clone(), q = a(b("\u80cc\u666f\u8272", null, !0, null, '<b style="background-color:blue;color:white;">&nbsp;A&nbsp;</b>')), v = a(v("\u80cc\u666f\u8272\uff1a", $)); O.append(q).append(v); var P = l.clone(), H = a(b("\u6709\u5e8f\u5217\u8868", "icon-list-ol", !1, !1, !1, "InsertOrderedList")), I = a(b("\u65e0\u5e8f\u5217\u8868", "icon-list-ul", !1, !1, !1, "InsertUnorderedList")); P.append(I).append(H); var Q = l.clone(), E = a(b("\u5de6\u5bf9\u9f50", "icon-align-left",
                !1, !1, !1, "JustifyLeft")), F = a(b("\u5c45\u4e2d", "icon-align-center", !1, !1, !1, "JustifyCenter")), G = a(b("\u53f3\u5bf9\u9f50", "icon-align-right", !1, !1, !1, "JustifyRight")); Q.append(E).append(F).append(G); var R = l.clone(), x = M + "LinkModal", q = a(b("\u94fe\u63a5", "icon-link", !1, "#" + x)), B = a(b("\u5220\u9664\u94fe\u63a5", "icon-remove", !1, !1, !1, "unlink")); R.append(q).append(B); var B = l.clone(), q = M + "imgModal", K = a(b("\u63d2\u5165\u56fe\u7247", "icon-picture", !1, "#" + q)); B.append(K); l = l.clone(); K = a(b("\u64a4\u9500", "icon-undo",
                !1, !1, !1, "Undo")); b = a(b("\u6062\u590d", "icon-repeat", !1, !1, !1, "Redo")); l.append(K).append(b); b = a('<div class="btn-toolbar"></div>'); b.append(r).append(n).append(w).append(s).append(O).append(P).append(Q).append(R).append(B).append(l); u.append(b).find("button").tooltip(); var n = a("<div></div>"), r = function (c, m, h, d) {
                    g(c); g(m); var b; c = a('<div id="' + c + '" class="modal hide fade">'); b = a('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4>' +
                    m + "</h4></div>"); m = a('<div class="modal-body">'); var e = a('<div class="modal-footer">'); c.append(b); if (h && "number" === typeof h.length && 0 < h.length) { for (b = 0; b < h.length; b++) m.append(h[b]); c.append(m) } if (d && "number" === typeof d.length && 0 < d.length) { for (b = 0; b < d.length; b++) e.append(d[b]); c.append(e) } return c
                }, w = a("<p>\u94fe\u63a5\u5730\u5740\uff1a</p>"), S = a('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), s = a("<p>\u94fe\u63a5\u76ee\u6807\uff1a</p>"), T = a("<select><option>_blank</option><option>_self</option></select>"),
                s = [w, S, s, T], w = a('<a href="#" class="btn btn-primary">\u63d2\u5165\u94fe\u63a5</a>'), U = r(x, "\u63d2\u5165\u94fe\u63a5", s, [w]), x = a("<p>\u8f93\u5165\u56fe\u7247URL\u5730\u5740\uff1a</p>"), V = a('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), s = [x, V], x = a('<a href="#" class="btn btn-primary">\u63d2\u5165</a>'), W = r(q, "\u63d2\u5165\u56fe\u7247", s, [x]); n.append(U).append(W); u.append(n); n = a('<div style="width: 100%; height: ' + e.frameHeight + '; border: 1px solid #cccccc;"></div>'); r =
                a('<iframe frameborder="0" width="100%" height="100%"></iframe>'); q = e.initStr; n.append(r); var c, y = e.codeTargetId && "string" === typeof e.codeTargetId ? a("#" + e.codeTargetId) : !1, t, J; this.append(u); this.append(n); n = r[0].contentWindow; e = a(n); c = n.document; n = a(c); c.open(); c.write('<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title></head><body>' + q + "</body></html>"); c.close(); c.designMode = "on"; a(X).load(function () { "off" === c.designMode.toLowerCase() && (c.designMode = "on") }); t = function (a,
                b, d) { c.execCommand(a, b, d) }; e.blur(d); n.click(k); n.keyup(k); b.find("button").each(function () { var b = a(this), c = b.attr("singleCommandName"); c && b.click(function () { t(c); f(c) }) }); A.find("a").each(function () { var b = a(this), c = this.style.color; b.click(function (a) { t("ForeColor", !1, c); a.preventDefault() }) }); v.find("a").each(function () { var b = a(this), c = this.style.backgroundColor; b.click(function (a) { t("backColor", !1, c); a.preventDefault() }) }); z.find("a").each(function () {
                    var b = a(this), c = b.css("font-family"); b.click(function (a) {
                        t("FontName",
                        !1, c); a.preventDefault()
                    })
                }); N.find("a").each(function () { var b = a(this), c = b.attr("fontSize"); b.click(function (a) { t("FontSize", !1, c); a.preventDefault() }) }); w.click(function (a) { var b = c.getSelection(), d = S.val(); T.val(); b && 0 !== b.anchorOffset || (b.removeAllRanges(), b.addRange(J)); t("createLink", !1, d); a.preventDefault(); U.modal("hide") }); x.click(function (a) { var b = c.getSelection(), d = V.val(); b && (b.removeAllRanges(), b.addRange(J)); t("insertImage", !1, d); a.preventDefault(); W.modal("hide") }); u.click(function () { d() })
            }
        })
    }
})(window.jQuery,
window);