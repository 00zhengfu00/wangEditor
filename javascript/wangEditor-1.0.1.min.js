if (!window.jQuery) throw Error("wangEditor: \u627e\u4e0d\u5230window.jQuery\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u5f15\u7528\u4e86jQuery\uff01");
(function (a, aa, fa) {
    var M = { codeTargetId: !1, frameHeight: "300px", initStr: "\u6b22\u8fce\u4f7f\u7528<b>wangEitor</b>\uff0c\u8bf7\u8f93\u5165..." }; if ("Microsoft Internet Explorer" === navigator.appName && /MSIE\s*(?=5.0|6.0|7.0|8.0)/i.test(navigator.appVersion)) jQuery.fn.extend({
        wangEditor: function (e) {
            e = a.extend(M, e); var b = e.initStr, c = e.frameHeight, k = e.codeTargetId && "string" === typeof e.codeTargetId ? a("#" + e.codeTargetId) : !1, h = a('<textarea style="width:100%; height:' + c + '"></textarea>'); e = a('<p style="color:#666666;background-color:#f1f1f1;"></p>');
            var c = /(<.*?>)|(&.*?;)/gm, u = "\u62b1\u6b49\uff0cIE8\u53ca\u4ee5\u4e0b\u6d4f\u89c8\u5668\u53ea\u80fd\u8f93\u5165\u7eaf\u6587\u672c...", l = function () { var a = h.text(), a = a.replace("&", "&amp;").replace("<", "&lt;").replace(">", "&gt;").replace("\n", "<br />").replace(/\s{1}/gm, "&nbsp;"); "input" === k[0].nodeName.toLowerCase() ? k.val("<p>" + a + "</p>") : k.text("<p>" + a + "</p>") }; c.test(b) && (b = b.replace(c, ""), u = '\u62b1\u6b49\uff0c\u5728IE8\u53ca\u4ee5\u4e0b\u6d4f\u89c8\u5668\u4e2d\u7f16\u8f91<b style="color:red;">\u53ef\u80fd\u4f1a\u4e22\u5931\u6837\u5f0f\u3001\u94fe\u63a5\u6216\u56fe\u7247\uff0c\u8bf7\u614e\u91cd\u4fdd\u5b58\uff01</b>');
            h.text(b); e.html(u); k && (h.click(l), h.keyup(l)); this.append(e).append(h)
        }
    }); else {
        var D = "wangeditor_" + Math.random().toString().replace(".", "") + "_", ba = function () { var a = "\u5b8b\u4f53;\u9ed1\u4f53;\u6977\u4f53;\u96b6\u4e66;\u5e7c\u5706;\u5fae\u8f6f\u96c5\u9ed1;Arial;Verdana;Georgia;Times New Roman;Trebuchet MS;Courier New;Impact;Comic Sans MS".split(";"), b = a.length, c = "", k, h; for (k = 0; k < b; k++) h = a[k], c += '<li><a href="#" style="font-family:${0}">${1}</a></li>'.replace("${0}", h).replace("${1}", h); return c }(),
        q = { red: "\u7ea2\u8272", blue: "\u84dd\u8272", green: "\u7eff\u8272", yellow: "\u9ec4\u8272", black: "\u9ed1\u8272", gray: "\u7070\u8272", silver: "\u94f6\u8272" }, ca = function () { var a = "", b, c; for (b in q) Object.prototype.hasOwnProperty.call(q, b) && (c = q[b], a += '<li><a href="#" style="color:${0};">${1}</a></li>'.replace("${0}", b).replace("${1}", c)); return a }(), da = function () {
            var a = "", b, c; for (b in q) Object.prototype.hasOwnProperty.call(q, b) && (c = q[b], a += '<li><a href="#" style="background-color:${0}; color:white;">${1}</a></li>'.replace("${0}",
            b).replace("${1}", c)); return a
        }(), ea = function () { var a = { 1: "10px", 2: "13px", 3: "16px", 4: "19px", 5: "22px", 6: "25px", 7: "28px" }, b = "", c, k; for (c in a) Object.prototype.hasOwnProperty.call(a, c) && (k = a[c], b += '<li><a href="#" fontSize="${0}" style="font-size:${1};">${2}</a></li>'.replace("${0}", c).replace("${1}", k).replace("${2}", k)); return b }(); jQuery.fn.extend({
            wangEditor: function (e) {
                function b() { A && ("input" === A[0].nodeName.toLowerCase() ? A.val(f.body.innerHTML) : A.text(f.body.innerHTML)) } function c(a) {
                    "string" ===
                    typeof a && (a = a.toLowerCase()); if ("bold" === a || void 0 === a) f.queryCommandState("bold") ? q.addClass("btn-primary") : q.removeClass("btn-primary"); if ("italic" === a || void 0 === a) f.queryCommandState("italic") ? E.addClass("btn-primary") : E.removeClass("btn-primary"); if ("underline" === a || void 0 === a) f.queryCommandState("underline") ? F.addClass("btn-primary") : F.removeClass("btn-primary"); if ("JustifyLeft" === a || void 0 === a) f.queryCommandState("JustifyLeft") ? G.addClass("btn-primary") : G.removeClass("btn-primary"); if ("JustifyCenter" ===
                    a || void 0 === a) f.queryCommandState("JustifyCenter") ? H.addClass("btn-primary") : H.removeClass("btn-primary"); if ("JustifyRight" === a || void 0 === a) f.queryCommandState("JustifyRight") ? I.addClass("btn-primary") : I.removeClass("btn-primary"); if ("InsertOrderedList" === a || void 0 === a) f.queryCommandState("InsertOrderedList") ? J.addClass("btn-primary") : J.removeClass("btn-primary"); if ("InsertUnorderedList" === a || void 0 === a) f.queryCommandState("InsertUnorderedList") ? K.addClass("btn-primary") : K.removeClass("btn-primary")
                }
                function k(a) { var g = a.type; a = a.keyCode; var m = !1, m = [33, 34, 35, 36, 37, 38, 39, 40], m = "keyup" === g && -1 !== m.indexOf(a); if ("click" === g || m) c(), v = f.getSelection().getRangeAt(0) } e = a.extend(M, e); var h = function (a) { if (!a || "string" !== typeof a || 0 === a.length) throw Error("\u9519\u8bef\uff1a\u3010" + a + "\u3011\u4e0d\u662f\u5b57\u7b26\u4e32\uff01"); }, u = a("<div></div>"), l = a('<div class="btn-group"></div>'), d = function (a, g, m, d, b, f) {
                    h(a); b ? h(b) : h(g); d && h(d); f && h(f); var c = "", e = ""; a = '<button type="button" title="$title$" class="$class$" $data-Prop$>$content$</button>'.replace("$title$",
                    a).replace("$class$", "btn"); m && (c += ' data-toggle="dropdown" '); d && (c += ' data-target="' + d + '" data-backdrop="false"  data-toggle="modal" '); f && (c += ' singleCommandName="' + f + '" '); a = a.replace("$data-Prop$", c); e = b ? e + b : e + ('<i class="' + g + '"></i>'); m && (e += '<span class="caret"></span>'); return a = a.replace("$content$", e)
                }, w = function (a, g) { h(g); a && h(a); var m = '<ul class="dropdown-menu">${0} ${1}</ul>'; a && (m = m.replace("${0}", '<li class="nav-header">' + a + "</li>")); return m = m.replace("${1}", g) }, x = l.clone(), q = a(d("\u52a0\u7c97",
                "icon-bold", !1, !1, !1, "bold")), E = a(d("\u659c\u4f53", "icon-italic", !1, !1, !1, "italic")), F = a(d("\u4e0b\u5212\u7ebf", "icon-underline", !1, !1, !1, "underline")); x.append(q).append(E).append(F); var n = l.clone(), B = a(d("\u5b57\u53f7", "icon-text-height", !0)), N = a(w("\u5b57\u53f7\uff1a", ea)); n.append(B).append(N); var s = l.clone(), C = a(d("\u5b57\u4f53", "icon-font", !0)), B = a(w("\u5b57\u4f53\uff1a", ba)); s.append(C).append(B); var r = l.clone(), p = a(d("\u524d\u666f\u8272", null, !0, null, '<b style="color:red;">A</b>')), C = a(w("\u524d\u666f\u8272\uff1a",
                ca)); r.append(p).append(C); var O = l.clone(), p = a(d("\u80cc\u666f\u8272", null, !0, null, '<b style="background-color:blue;color:white;">&nbsp;A&nbsp;</b>')), w = a(w("\u80cc\u666f\u8272\uff1a", da)); O.append(p).append(w); var P = l.clone(), J = a(d("\u6709\u5e8f\u5217\u8868", "icon-list-ol", !1, !1, !1, "InsertOrderedList")), K = a(d("\u65e0\u5e8f\u5217\u8868", "icon-list-ul", !1, !1, !1, "InsertUnorderedList")); P.append(K).append(J); var Q = l.clone(), G = a(d("\u5de6\u5bf9\u9f50", "icon-align-left", !1, !1, !1, "JustifyLeft")), H = a(d("\u5c45\u4e2d",
                "icon-align-center", !1, !1, !1, "JustifyCenter")), I = a(d("\u53f3\u5bf9\u9f50", "icon-align-right", !1, !1, !1, "JustifyRight")); Q.append(G).append(H).append(I); var R = l.clone(), y = D + "LinkModal", p = a(d("\u94fe\u63a5", "icon-link", !1, "#" + y)), z = a(d("\u5220\u9664\u94fe\u63a5", "icon-remove", !1, !1, !1, "unlink")); R.append(p).append(z); var S = l.clone(), z = D + "imgModal", p = a(d("\u63d2\u5165\u56fe\u7247", "icon-picture", !1, "#" + z)); S.append(p); var T = l.clone(), p = D + "codeModal", L = a(d("\u63d2\u5165\u4ee3\u7801", "icon-edit", !1, "#" +
                p)); T.append(L); l = l.clone(); L = a(d("\u64a4\u9500", "icon-undo", !1, !1, !1, "Undo")); d = a(d("\u6062\u590d", "icon-repeat", !1, !1, !1, "Redo")); l.append(L).append(d); d = a('<div class="btn-toolbar"></div>'); d.append(s).append(n).append(x).append(r).append(O).append(P).append(Q).append(R).append(S).append(T).append(l); u.append(d).find("button").tooltip(); var n = a("<div></div>"), s = function (c, g, m, d) {
                    h(c); h(g); var b; c = a('<div id="' + c + '" class="modal hide fade">'); b = a('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4>' +
                    g + "</h4></div>"); g = a('<div class="modal-body">'); var f = a('<div class="modal-footer">'); c.append(b); if (m && "number" === typeof m.length && 0 < m.length) { for (b = 0; b < m.length; b++) g.append(m[b]); c.append(g) } if (d && "number" === typeof d.length && 0 < d.length) { for (b = 0; b < d.length; b++) f.append(d[b]); c.append(f) } return c
                }, x = a("<p>\u94fe\u63a5\u5730\u5740\uff1a</p>"), U = a('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), r = a("<p>\u94fe\u63a5\u76ee\u6807\uff1a</p>"), V = a("<select><option>_blank</option><option>_self</option></select>"),
                r = [x, U, r, V], x = a('<a href="#" class="btn btn-primary">\u63d2\u5165\u94fe\u63a5</a>'), W = s(y, "\u63d2\u5165\u94fe\u63a5", r, [x]), y = a("<p>\u8f93\u5165\u56fe\u7247URL\u5730\u5740\uff1a</p>"), X = a('<input type="text" placeholder="http(s)://" class="input-block-level"/>'), r = [y, X], y = a('<a href="#" class="btn btn-primary">\u63d2\u5165</a>'), Y = s(z, "\u63d2\u5165\u56fe\u7247", r, [y]), Z = a('<textarea rows="10" cols="50" style="width:95%"></textarea>'), r = [Z], z = a('<a href="#" class="btn btn-primary">\u63d2\u5165</a>'),
                $ = s(p, "\u63d2\u5165\u4ee3\u7801", r, [z]); n.append(W).append(Y).append($); u.append(n); n = a('<div style="width: 100%; height: ' + e.frameHeight + '; border: 1px solid #cccccc;"></div>'); s = a('<iframe frameborder="0" width="100%" height="100%"></iframe>'); p = e.initStr; n.append(s); var f, A = e.codeTargetId && "string" === typeof e.codeTargetId ? a("#" + e.codeTargetId) : !1, t, v; this.append(u); this.append(n); n = s[0].contentWindow; e = a(n); f = n.document; n = a(f); f.open(); f.write('<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title></head><body>' +
                p + "</body></html>"); f.close(); f.designMode = "on"; a(aa).load(function () { "off" === f.designMode.toLowerCase() && (f.designMode = "on") }); t = function (a, g, m) { f.execCommand(a, g, m) }; e.blur(b); n.click(k); n.keyup(k); d.find("button").each(function () { var b = a(this), g = b.attr("singleCommandName"); g && b.click(function () { t(g); c(g) }) }); C.find("a").each(function () { var b = a(this), g = this.style.color; b.click(function (a) { t("ForeColor", !1, g); a.preventDefault() }) }); w.find("a").each(function () {
                    var b = a(this), g = this.style.backgroundColor;
                    b.click(function (a) { t("backColor", !1, g); a.preventDefault() })
                }); B.find("a").each(function () { var b = a(this), g = b.css("font-family"); b.click(function (a) { t("FontName", !1, g); a.preventDefault() }) }); N.find("a").each(function () { var b = a(this), g = b.attr("fontSize"); b.click(function (a) { t("FontSize", !1, g); a.preventDefault() }) }); x.click(function (a) { var b = f.getSelection(), c = U.val(); V.val(); b && v && (b.removeAllRanges(), b.addRange(v)); t("createLink", !1, c); a.preventDefault(); W.modal("hide") }); y.click(function (a) {
                    var b =
                    f.getSelection(), c = X.val(); b && v && (b.removeAllRanges(), b.addRange(v)); t("insertImage", !1, c); a.preventDefault(); Y.modal("hide")
                }); z.click(function (b) {
                    var c = f.getSelection(), d = Z.val(), e = "", e = "", h; h = '<td style="line-height:${0}; font-size:${1};font-family:${2}; text-align:right; border-right:3px solid #6dea8e; padding-right:5px; color:#999999; width:40px;"> ${3} </td>'.replace("${0}", "20px").replace("${1}", "14px").replace("${2}", "Consolas,Courier New,\u5fae\u8f6f\u96c5\u9ed1,\u5b8b\u4f53"); var l; l = '<td style="line-height:${0}; font-size:${1};font-family:${2}; padding-left:10px; text-align:left;">${3}</td>'.replace("${0}",
                    "20px").replace("${1}", "14px").replace("${2}", "Consolas,Courier New,\u5fae\u8f6f\u96c5\u9ed1,\u5b8b\u4f53"); var k = "", n = "", p, d = d.replace(/&/gm, "&amp;").replace(/</gm, "&lt;").replace(/>/gm, "&gt;").replace(/\n/gm, "<br/>").replace(/\s{1}/gm, "&nbsp;"); p = d.split("<br/>"); for (d = 0; d < p.length; d++) n = p[d], k = h.replace("${3}", d + 1), n = l.replace("${3}", n), e = 0 === d % 2 ? e + '<tr valign="top" style="background-color:#f1f1f1;"> ${0} </tr>'.replace("${0}", k + n) : e + '<tr valign="top"> ${0} </tr>'.replace("${0}", k + n); e = '<table border="0" cellpadding="0" cellspacing="0" width="100%"> ${0} </table>'.replace("${0}",
                    e); c && v && (c.removeAllRanges(), c.addRange(v), c = a(c.focusNode.parentNode), 0 === c.next().length && (e += "<p><br/><br/></p>"), c.after(a(e))); b.preventDefault(); $.modal("hide")
                }); u.click(function () { b() })
            }
        })
    }
})(window.jQuery, window);